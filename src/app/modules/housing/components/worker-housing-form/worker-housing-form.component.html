<form class="form-section" [formGroup]="form" (ngSubmit)="submit()">
  <!-- National Address -->
  <div class="section-card" aria-label="National Address">
    <div class="title mb-1">
      <mat-icon class="icon-title" svgIcon="external-site"></mat-icon>
      <span>{{ 'label.residence.worker' | translate }}</span>
    </div>
    <div class="row-flex-division">
      <!-- workers -->
      <mat-custom-field
        apiEndpoint="Worker/GetWorkersSelect"
        controlName="workersIds"
        label="field.rent.worker"
        type="select"
        [multiple]="true"
        [group]="form">
      </mat-custom-field>

      <!-- Apartment -->
      <!-- <mat-custom-field
        controlName="apartmentId"
        label="field.worker.apartment"
        type="select"
        [callApiFunction]="fetchApartments"
        [group]="form">
      </mat-custom-field> -->

      <mat-searchable-select
        controlName="apartmentId"
        label="field.worker.apartment"
        [callApiFunction]="fetchApartments"
        [group]="form">
      </mat-searchable-select>
    </div>

      <!-- note -->
      <mat-custom-field controlName="note" label="setting.fields.note" type="textarea" [group]="form">
      </mat-custom-field>

  </div>
</form>

<div class="text-left">
  <button mat-stroked-button color="primary" class="ml-2 w-10" (click)="location.back()">
    {{ 'buttons.cancel' | translate }}
  </button>
  <button mat-raised-button color="primary" class="ml-2 w-10" (click)="submit()" [disabled]="form.invalid || loading">
    {{ 'buttons.save' | translate }}
    <mat-spinner [diameter]="30" *ngIf="loading"></mat-spinner>
  </button>
</div>
